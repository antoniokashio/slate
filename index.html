<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>KashIO Payments 1.0.0.a</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='soporte@kashio.net'>Soporte KashIO</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introducci-n">Introducción</h1>

<p>¡Bienvenido a la API de KashIO! Puede utilizar nuestra API para acceder a los Endpoints de la API de KashIO Payments, donde pueden obtener información sobre cómo crear Ordenes de Pago, recibir notificaciones sobre Eventos, etc.</p>

<p>El API de KashIO está basado en REST. Nuestra API tiene URLs previsibles y orientadas a recursos, y usa códigos de respuesta HTTP para indicar errores API. 
Soportamos la autenticación HTTP y los verbos HTTP estándares como GET, POST, PATCH y DELETE; soportamos CORS (intercambio de recursos de origen cruzado), permitiéndole interactuar de forma segura con nuestra API desde una aplicación web de cliente.</p>

<p>Por simplicidad NO usamos dos APIs separadas para Integración y Producción; las cuentas tienen el modo de prueba y con solo usar la llave correspondiente, podrá migrar de ambientes de forma muy sencilla.</p>

<h1 id="autenticaci-n">Autenticación</h1>

<blockquote>
<p>Para obtener acceso use este código:</p>
</blockquote>
<pre class="highlight plaintext"><code>   curl https://api.kashio.net/v1/payments \
  -u your_private_api_key:
</code></pre>
<blockquote>
<p>Curl utiliza el indicador -u para pasar las credenciales de autenticación básicas (la adición de dos puntos después de que su clave de API impide que cURL solicite una contraseña).</p>

<p>No olvide reemplazar <code class="prettyprint">your_private_api_key</code> con su Clave Secreta API.</p>
</blockquote>

<p>Las peticiones a KashIO son autenticada mediante el uso la <strong>Clave Secreta API</strong> en la solicitud. Puede administrar las claves de su API en el Panel de control de su consola web KCMS (KashIO Customer Management System). No comparta sus Claves Secretas API en áreas de acceso público tales como GitHub, código de cliente, etc.
La autenticación en la API se realiza a través de Autenticación básica HTTP. Proporcione su clave de API como valor de usuario de autenticación básico. No es necesario proporcionar una contraseña.</p>

<p>Todas las solicitudes de API deben hacerse a través de HTTPS. Las peticiones realizadas en HTTP normal fallarán. Las solicitudes de API sin autenticación también fallarán.</p>

<p><code class="prettyprint">Authorization: basic your_private_api_key</code></p>

<aside class="notice">
Reemplace <code>your_private_api_key</code> con su **Clave Secreta API**.
</aside>

<h1 id="paginaci-n">Paginación</h1>

<p>En KashIO todos los recursos de API tienen soporte para listados, y ellos es accesible mediante cursores. Estos métodos de API de lista comparten una estructura común, soportando estos tres parámetros: limit, starting_after y ending_before.
KashIO utiliza la paginación basada en el cursor a través de los parámetros starting_after y ending_before. Ambos toman un valor del <strong>id</strong> de objeto existente y devuelven objetos en un arreglo. </p>

<h1 id="orden-de-pago-invoice">Orden de Pago (Invoice)</h1>

<p>La Orden de Pago es la instrucción enviada a KashIO para iniciar el proceso de pago de un cliente.  </p>

<h2 id="objeto-orden-de-pago">Objeto Orden de Pago</h2>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>El ID de la Orden de Pago</td>
</tr>
<tr>
<td>object</td>
<td>String</td>
<td>Tipo de objeto: <strong>invoice</strong></td>
</tr>
<tr>
<td>livemode</td>
<td>Boolean</td>
<td>Si es producción <strong>true</strong> o pruebas <strong>false</strong></td>
</tr>
<tr>
<td>payer</td>
<td>Object</td>
<td>Información del pagador (phone, email, document_type, document_id) (Telefono en formato E.164)</td>
</tr>
<tr>
<td>created</td>
<td>String</td>
<td>Fecha de creación (ISO-8601:yyyy-MM-ddThh:mm:ss)</td>
</tr>
<tr>
<td>request_datetime</td>
<td>String</td>
<td>Fecha del Sistema de comercios (evitar DDOS)</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>Moneda de la Orden de Pago (ISO-4217)</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>Monto de la Orden de Pago. Usar 2 decimales</td>
</tr>
<tr>
<td>invoice_id</td>
<td>String</td>
<td>Número de referencia de la factura en el sistema del comercio</td>
</tr>
<tr>
<td>expiration_datetime</td>
<td>String</td>
<td>Expiración de la Orden de Pago (ISO-8601:yyyy-MM-ddThh:mm:ss)</td>
</tr>
<tr>
<td>sub_merchant</td>
<td>Object</td>
<td>Información de SubMerchant (nombre, correo electrónico, logotipo, etc.)</td>
</tr>
<tr>
<td>url_success</td>
<td>String</td>
<td>URL donde el comprador será redirigido si el pago se realizó con éxito (ej: http://www.coffee.com/api/success.html)</td>
</tr>
<tr>
<td>url_error</td>
<td>String</td>
<td>URL donde retorna el usuario en caso no realiza el pago(ej: http://www.coffee.com/api/error.html)</td>
</tr>
<tr>
<td>size_qr</td>
<td>String</td>
<td>Tamaño en píxeles del QR (150px por defecto)</td>
</tr>
<tr>
<td>url_qr</td>
<td>String</td>
<td>URL del Código QR</td>
</tr>
<tr>
<td>qr_code</td>
<td>String</td>
<td>Código QR Codificado</td>
</tr>
<tr>
<td>ktin</td>
<td>String</td>
<td>Número utilizado para pagar manualmente</td>
</tr>
<tr>
<td>metadata</td>
<td>Objeto</td>
<td>Detalles de la Orden de Pago (formato JSON)</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Estado de la Orden de Pago (pending, paid, expired, voided)</td>
</tr>
<tr>
<td>error</td>
<td>Error []</td>
<td>Lista de errores para errores HTTP distintos de 200</td>
</tr>
</tbody></table>

<h2 id="crear-una-orden-de-pago">Crear una Orden de Pago</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X POST https://api.kashio.net/v1/payments/invoices \
  -u sk_test_f5yj6jAHep36jAep3JU: \
  -h 'content-type: application/json' \
  -d '{ "request_datetime": "2017-01-31T14:24:59",
        "payer": { "phone" :"+519996666", "email": "maria.viera22@gmail.com" },
        "currency": "PEN",
        "amount": "20.00",
        "invoice_id": "ABCD1234567890" }'
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"phone"</span><span class="w"> </span><span class="p">:</span><span class="s2">"+519996666"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maria.viera22@gmail.com"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiration_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ktin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Crear una Orden de Pago es el primer paso para recibir un pago a través de KashIO</p>

<h3 id="petici-n-http">Petición HTTP</h3>

<p><code class="prettyprint">POST https://api.kashio.net/v1/payments/invoices</code></p>

<h3 id="par-metros">Parámetros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Obligatorio</th>
</tr>
</thead><tbody>
<tr>
<td>payer</td>
<td>JSON</td>
<td>no</td>
</tr>
<tr>
<td>request_datetime</td>
<td>String</td>
<td>si</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>si</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>si</td>
</tr>
<tr>
<td>invoice_id</td>
<td>String</td>
<td>si</td>
</tr>
<tr>
<td>expiration_datetime</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>sub_merchant</td>
<td>JSON</td>
<td>no</td>
</tr>
<tr>
<td>url_success</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>url_error</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>size_qr</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>metadata</td>
<td>JSON</td>
<td>no</td>
</tr>
</tbody></table>

<h2 id="consultar-una-orden-de-pago">Consultar una Orden de Pago</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X GET https://api.kashio.net/v1/payments/invoices/inv_6hxCf5yj6jAHep3JUJZrmm \
  -u sk_test_f5yj6jAHep36jAep3JU: 
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"phone"</span><span class="w"> </span><span class="p">:</span><span class="s2">"+519996666"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maria.viera22@gmail.com"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiration_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ktin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint recibe una Orden de Pago especifica.</p>

<h3 id="solicitud-http">Solicitud HTTP</h3>

<p><code class="prettyprint">GET https://api.kashio.net/v1/payments/invoices/{id}</code></p>

<h3 id="parametros">Parametros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Obligatorio</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>si</td>
</tr>
</tbody></table>

<h2 id="anular-una-orden-de-pago">Anular una Orden de Pago</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X DELETE https://api.kashio.net/v1/payments/invoices/inv_6hxCf5yj6jAHep3JUJZrmm \
  -u sk_test_f5yj6jAHep36jAep3JU: \
  -h 'content-type: application/json' 
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"phone"</span><span class="w"> </span><span class="p">:</span><span class="s2">"+519996666"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maria.viera22@gmail.com"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiration_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ktin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voided"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Anula una Orden de Pago. La Orden de Pago no podrá ser paga después de ser anulada.</p>

<h3 id="petici-n-http">Petición HTTP</h3>

<p><code class="prettyprint">DELETE https://api.kashio.net/v1/payments/invoices/{id}</code></p>

<h3 id="par-metros">Parámetros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Obligatorio</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>si</td>
</tr>
</tbody></table>

<h2 id="actualizar-una-orden-de-pago">Actualizar una Orden de Pago</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X PATCH https://api.kashio.net/v1/payments/invoices/inv_6hxCf5yj6jAHep3 \
  -u sk_test_f5yj6jAHep36jAep3JU: \
  -h 'content-type: application/json' \
  -d '{ "amount": "25.00" }'
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"phone"</span><span class="w"> </span><span class="p">:</span><span class="s2">"+519996666"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maria.viera22@gmail.com"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiration_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ktin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Actualiza ciertos parámetros de una Orden de Pago. No todos los parámetros pueden ser actualizados.</p>

<h3 id="petici-n-http">Petición HTTP</h3>

<p><code class="prettyprint">PATCH https://api.kashio.net/v1/payments/invoices/{id}</code></p>

<h3 id="par-metros">Parámetros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Actualizable</th>
</tr>
</thead><tbody>
<tr>
<td>payer</td>
<td>JSON</td>
<td>no</td>
</tr>
<tr>
<td>request_datetime</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>si</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>si</td>
</tr>
<tr>
<td>invoice_id</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>expiration_datetime</td>
<td>String</td>
<td>si</td>
</tr>
<tr>
<td>sub_merchant</td>
<td>JSON</td>
<td>no</td>
</tr>
<tr>
<td>url_success</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>url_error</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>size_qr</td>
<td>String</td>
<td>no</td>
</tr>
<tr>
<td>metadata</td>
<td>JSON</td>
<td>no</td>
</tr>
</tbody></table>

<h2 id="consultar-lista-de-ordenes-de-pago">Consultar Lista de Ordenes de Pago</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X GET https://api.kashio.net/v1/payments/invoices?date=2017-05-30 \
  -u sk_test_f5yj6jAHep36jAep3JU: 
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"payer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"phone"</span><span class="w"> </span><span class="p">:</span><span class="s2">"+519996666"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maria.viera22@gmail.com"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"invoice_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiration_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T14:24:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qr_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ktin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="solicitud-http">Solicitud HTTP</h3>

<p><code class="prettyprint">GET https://api.kashio.net/v1/payments/invoices?date={date}</code></p>

<h3 id="par-metros">Parámetros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>date</td>
<td>String</td>
<td>Fecha para filtrar Ordenes de Pago</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Status para filtro de Ordenes de Pago</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>Limite de registros por petición</td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td>cursor de inicio</td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>cursor de fin</td>
</tr>
</tbody></table>

<h1 id="eventos">Eventos</h1>

<p>Los eventos son creados ante alguna ocurrencia en las operaciones de KashIO; un evento puede ser una creación, cambio, anulación de una entidad, o una operación como el pago de una Orden de Pago, la emisión de una transferencia, etc.</p>

<h2 id="objeto-evento">Objeto Evento</h2>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>El ID de la Orden de Pago</td>
</tr>
<tr>
<td>object</td>
<td>String</td>
<td>Tipo de objeto: <strong>event</strong></td>
</tr>
<tr>
<td>livemode</td>
<td>Boolean</td>
<td>Si es producción <strong>true</strong> o pruebas <strong>false</strong></td>
</tr>
<tr>
<td>created</td>
<td>String</td>
<td>Fecha de creación (ISO-8601:yyyy-MM-ddThh:mm:ss)</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Tipo de evento (ej: invoice.paid, invoice.expired)</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Status del evento (new, failed, notified)</td>
</tr>
<tr>
<td>data</td>
<td>JSON</td>
<td>Object related to the event (HATEOAS, ej : //invoices/inv_abcd1234)</td>
</tr>
</tbody></table>

<h2 id="consultar-un-evento">Consultar un Evento</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X GET https://api.kashio.net/v1/payments/event/eve_6hxCf5yj6jAHep3 \
  -u sk_test_f5yj6jAHep36jAep3JU: 
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eve_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice.paid"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="s2">"url"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"//invoices/inv_QokikJOvBiI2HlWgH4olfQ2"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"invoice"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_QokikJOvBiI2HlWgH4olfQ2"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w">
                  </span><span class="err">…</span><span class="w">
                               </span><span class="p">}</span><span class="w">
             </span><span class="p">},</span><span class="w">        
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint recibe un Evento especifico.</p>

<h3 id="solicitud-http">Solicitud HTTP</h3>

<p><code class="prettyprint">GET https://api.kashio.net/v1/payments/events/{id}</code></p>

<h3 id="parametros">Parametros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Obligatorio</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>si</td>
</tr>
</tbody></table>

<h2 id="consultar-lista-de-eventos">Consultar Lista de Eventos</h2>

<blockquote>
<p>Ejemplo de Petición</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X GET https://api.kashio.net/v1/payments/events?date=2017-05-30 \
  -u sk_test_f5yj6jAHep36jAep3JU: 
</code></pre>
<blockquote>
<p>Ejemplo de Respuesta</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eve_6hxCf5yj6jAHep3JUJZrmm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-31T14:24:59"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice.paid"</span><span class="p">,</span><span class="w">   
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="s2">"url"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"//invoices/inv_QokikJOvBiI2HlWgH4olfQ2"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"invoice"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inv_QokikJOvBiI2HlWgH4olfQ2"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice"</span><span class="p">,</span><span class="w">
                  </span><span class="err">…</span><span class="w">
                               </span><span class="p">}</span><span class="w">
             </span><span class="p">},</span><span class="w">       
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="w">    
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="solicitud-http">Solicitud HTTP</h3>

<p><code class="prettyprint">GET https://api.kashio.net/v1/payments/events?date={date}</code></p>

<h3 id="par-metros">Parámetros</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>date</td>
<td>String</td>
<td>Fecha para filtrar eventos</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Status para filtro de eventos</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>Limite de registros por petición</td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td>cursor de inicio</td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>cursor de fin</td>
</tr>
</tbody></table>

          <h1 id="errores">Errores</h1>

<p>KashIO usa los siguientes errores para responder ante una solicitud :</p>

<table><thead>
<tr>
<th>Error</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK &ndash; la petición fue exitosa</td>
</tr>
<tr>
<td>201</td>
<td>Resource created &ndash; se creó el objeto exitosamente</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request &ndash; el formato de la petición tiene un problema</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; problema con autorización de acceso</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; el recurso no existe, revise el id del objeto</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; ocurrió un error de nuestro lado</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
